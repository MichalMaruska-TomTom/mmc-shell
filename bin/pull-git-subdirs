#! /usr/bin/zsh -f

setopt extendedglob


foreach dir (^build-area(/)) {
    cd $dir
    if [ -d .git ];
    then
#    echo $files
	if git status;
	then
	    echo -n "==========="; pwd;
	    git branch
	    if git remote |grep origin;
	    then
		echo "pulling from ";git remote show origin|grep 'Fetch URL'
		git pull origin master
	    else
		echo $dir is not associated with any Origin
	    fi
	else
	    echo $dir is not clean!
	fi
    else
	echo $dir  is not Git
    fi
    cd -
}